if (typeof REE === "undefined") {

    REE = {}
}
REE.Com = {
   
	_ClipCopy: true,
    bindToolTip: function () {
        $("[data-toggle=tooltip]").tooltip()
    },
    biuldModal: function (a, c, d, e) {
        e = e || '<button class="btn btn-primary submit-btn" data-dismiss="modal" aria-hidden="true">确定</button>';
        var b = '<div class="modal hide fade" id="' + a + '">';
        b += '<div class="modal-contentbox"><div class="modal-header"><a href="javascript:void(0)" class="close" data-dismiss="modal" aria-hidden="true">&times;</a><h4 id="' + a + '_title">' + d + "</h4></div>";
        b += '<div class="modal-body">' + c + "</div>";
        b += '<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>' + e + "</div>";
        b += "</div></div>";
        return b
    },
    copyModal: function (a, b, e) {
        var f = $("#" + a);
        $(".modal-footer .pointout", f).html("");
        if (0 == f.length) {
            var c = '<span class="help-tips" style="color:#666; float: left; font-size: 12px;"></span>&nbsp;&nbsp;<button id="copy-btn" class="btn btn-danger copy-btn" data-clipboard-target="' + a + '_copy">点此复制</button><span class="pointout" style="color:#f00"></span>';
            var d = REE.Com.biuldModal(a, '<div style="text-align: center;" class="_content">' + e + "</div>", b, c);
            $("body").append(d);
            f = $("#" + a);
			 $(".help-tips", f).html("Ctrl+A 全选、Ctrl+C 复制、Ctrl+V 粘贴");
            //$(".copy-btn", f).hide()
            
			
			//REE.Com.ClipboardCopy(f);
			//$(".help-tips").html("342");
			if(window.ClipCopyBD==5){
			$("#copy-btn").one("mouseover",function(){
　　　         　$("#copy-btn").zclip({
				 path: "/statics/grsc/ZeroClipboard.swf",
				 copy:$('.copyareadiv').html(),
				 beforeCopy:function(){	
				 //$('.help-tips').text('请在文本框内全选复制代码使用（先[Ctrl + A]全选，再[Ctrl+C]复制）');	
				 },	afterCopy:function(){	 
				   $('.help-tips').text('复制成功,请粘贴到模板相应的位置' );	
				    setTimeout(function(){$('.help-tips').text('');}, 5000);	   	
				 }}); 
　　   });
		window.ClipCopyBD=9;	
			}
			

            setTimeout(function () {
                if (!REE.Com._ClipCopy) {
                   // $(".help-tips", f).html("Ctrl+A 全选、Ctrl+C 复制、Ctrl+V 粘贴");
                   // $(".copy-btn", f).hide()
                }
            },  300)
        } else {
            $(".modal-body ._content", f).html(e)
        }
        f.modal()
    },
    ClipboardCopy: function (a) {
 
	   if (!REE.Com._ClipCopy) {
            return
        }
        var b = new ZeroClipboard($(".copy-btn", a), {
            moviePath: "/statics/grsc/ZeroClipboard.swf",
            AllowScriptAccess: "always",
            useNoCache: true
        });
        b.on("load",
        function (c) { });
        b.on("noFlash",
        function (c, d) {
            REE.Com._ClipCopy = false
        });
        b.on("wrongflash",
        function (c, d) {
            REE.Com._ClipCopy = false
        });
        b.on("complete",
        function (c, d) {
            var e = $(".pointout", $(this).parent());
            e.hide();
            e.html("已复制至剪贴板,Ctrl+V键粘贴到相应地方");
            e.show("fast")
        })
    },
    backwardIE: function () {
        return true
    },
    IEtest: function () {
        return !$.support.leadingWhitespace
    }
};
REE.NavCss = {};
REE.NavCss.Tools = (function () {
    var b = null;
    var n = {};
    var q = function () {
        return [{
            title: "导航菜单",
            span: 3,
            fields: {
               
                nav_all_bg_color: {
                    label: "整体-背景颜色",
                    type: "color",
                    data: {
                        name: ".skin-box-bd",
                        ele: "background-color",
                        extra: [{
                            name: ".skin-box-bd",
                            val: "background-image:none"
                        },
                        {
                            name: ".menu-list .link, .skin-box-bd .menu-list, .menu-list .menu-selected .link .title,.all-cats .all-cats-trigger, .all-cats .link,.menu-list .menu-selected, .menu-list .menu-selected .link, .menu-list .menu-selected .link .title,.menu-list .menu-selected.menu-hover .link",
                            val: "background:none"
                        }]
                    },
                   tips: "删除数据留空则无颜色"   
                },
				nav_color: {
                    label: "默认-字体颜色",
                    type: "color",
                    data: {
                        name: ".menu-list .link .title",
                        ele: "color"
                    }
                },
				 nav_bg_color: {
                    label: "默认-背景颜色",
                    type: "color",
                    data: {
                        name: ".menu-list .menu, .menu-list .menu .link",
                        ele: "background-color",
                        extra: [{
                            name: ".menu-list .menu, .menu-list .menu .link",
                            val: "background:none"
                        }]						
                    } ,
					tips: "删除数据留空则无颜色"                 
			},
                nav_bg_img: {
                    label: "默认-背景图片",
                    type: "text",
                    data: {
                        name: ".menu-list .menu,.menu-list .menu .link",
                        ele: "background-image",
                        extra: [{
                            name: ".menu-list .menu",
                            val: "background-position:left 0px;background-repeat:repeat;"
                        },
                        {
                            name: ".menu-list .menu .link",
                            val: "background-position:right 0px;background-repeat:repeat;"
                        },
                        {
                            name: ".menu-list .link",
                            val: "padding:0 20px 0 9px; margin-left: 11px;"
                        }]
                    },
                   placeholder: "不需背景图留空",
                   tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
				 
                nav_all_bg_img: {
                    label: "整体-背景图片",
                    type: "text",
                    data: {
                        name: ".skin-box-bd",
                        ele: "background-image",
                        extra: [{
                            name: ".menu-list .menu",
                            val: "background-position:left 0px;background-repeat:repeat;"
                        },
                        {
                            name: ".menu-list .menu .link",
                            val: " background-position:right 0px;background-repeat:repeat;"
                        },
                        {
                            name: ".menu-list .link",
                            val: "padding:0 20px 0 9px; margin-left: 11px;"
                        }]
                    },
                    placeholder: "不需背景图留空",
                    tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
				nav_color_hover: {
                    label: "经过-字体颜色",
                    type: "color",
                    data: {
                        name: ".menu-list .menu-hover .link .title",
                        ele: "color"
                    }
                },
                nav_bg_color_hover: {
                    label: "经过-背景颜色",
                    type: "color",
                    data: {
                        name: ".menu-list .menu-hover, .menu-list .menu-hover .link",
                        ele: "background-color",
                        extra: [{
                            name: ".menu-list .menu-hover,.menu-list .menu-hover .link",
                            val: "background:none;"
                        }]
                    },
                   tips: "删除数据留空则无颜色"   
                },
                
                nav_bg_img_hover: {
                    label: "经过-背景图片",
                    type: "url",
                    data: {
                        name: ".menu-list .menu-hover,.menu-list .menu-hover .link",
                        ele: "background-image",
                        extra: [{
                            name: ".menu-list .menu-hover",
                            val: "background-position:left 0px;background-repeat:repeat;"
                        },
                        {
                            name: ".menu-list .menu-hover .link",
                            val: "background-position:right 0px;background-repeat:repeat;"
                        },
                        {
                            name: ".menu-list .link",
                            val: "padding:0 20px 0 9px; margin-left: 11px;"
                        }]
                    },
                   placeholder: "不需背景图留空",
                   tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
				
               
                nav_height: {
                    label: "导航栏高度",
                    type: "number",
                    id: "height",
                    unit: "px",
                    data: {
                        name: ".menu-list .link .title, .menu-list .link .title, .all-cats .link, .all-cats .link,.all-cats .link .title, .skin-box-bd,.menu-list .link,.menu-list .link,.all-cats-hover,.all-cats-hover, .menu-list .menu, .menu-list .menu-hover",
                        ele: "height, line-height, height, line-height, height, height, line-height, height, line-height, height, height",
                        extra: [{
                            name: ".menu-list .link .popup-icon",
                            val: 'margin-top:@Math.floor((this.val-14)/2)@px;'
                        },
                        {
                            name: ".all-cats .link .popup-icon",
                            val: 'margin-top:@Math.floor((this.val-14)/2)@px;margin-right:8px;'
                        },{
                            name: ".all-cats .link .title,.menu-list .link .title",
                            val: 'margin:0;border-right:none;'
                        },{
                            name: ".all-cats .link .title",
                            val: 'line-height:@(this.val)@'
                        },{
                            name: ".all-cats .link .title",
                            val: 'padding-left:10px'
                        }]
                    },
                    tips: "注意和店招高度合不要超过150"
                },
                nav_font_size: {
                    label: "字体大小",
                    type: "select",
                    options: i(),
                    val: "",
                    unit: "px",
                    data: {
                        name: ".menu-list .menu .title",
                        ele: "font-size"
                    }
                },
                nav_font_family: {
                    label: "字体选择",
                    type: "select",
                    options: j(),
                    val: "",
                    data: {
                        name: ".menu-list .menu .title",
                        ele: "font-family"
                    }
                },
                nav_font_style: {
                    label: "字体样式",
                    type: "select",
                    val: "",
                    options: {
                        normal: "默认",
                        normal: "正常",
                        italic: "斜体",
                        bold: "粗体",
                        bold_italic: "粗体+斜体"
                    },
                    data: {
                        name: ".menu-list .menu .title",
                        ele: "font-style"
                    }
                },
	
                 nav_line_style: {
                    label: "分隔竖线样式",
                    type: "select",
                    options: {
                        "": "无分隔线",
                        solid: "实线",
                        dotted: "虚线"
                    },
                    data: {
                        name: ".menu-list .menu,.all-cats",
                        ele: "border-right-style",
                        extra: [{
                            name: ".menu-list .menu",
                            val: "border-right-width:0"
                        }]
                    },
                    tips: "选无分隔线隐藏"
                },
				
                nav_line_width: {
                    label: "分隔竖线粗细",
					id: "nav_line_width",
                    type: "number",
                    unit: "px",
                    data: {
						
                        name: ".menu-list .menu,.all-cats",
                        ele: "border-right-width",
                        extra: [{
                            name: ".menu-list .menu",
                            val: "border-right-width:0"
                        }]
                    },
                    tips: "请输入1~5的数字; 需设置分隔竖线样式才生效"
                },
               
                nav_line_color: {
                    label: "分隔竖线颜色",
                    type: "color",
                    data: {
                        name: ".menu-list .menu,.all-cats",
                        ele: "border-right-color",
                        extra: [{
                            name: ".menu-list .menu",
                            val: "border-right-width:0"
                        }]
                    },
                    tips: "需设置分隔竖线大小、样式才生效"
                }
            }
        },
        {
            title: "所有分类",
            fields: {
				
				  cate_color: {
                    label: "默认-字体颜色",
                    type: "color",
                    data: {
                        name: ".all-cats .link .title",
                        ele: "color"
                    }
                },
				 cate_bg_color: {
                    label: "默认-背景颜色",
                    type: "color",
                    data: {
                        name: ".all-cats .all-cats-trigger, .all-cats .link",
                        ele: "background-color",
                        extra: [{
                            name: ".all-cats .link",
                            val: "background-image:none;"
                        },
                        {
                            name: ".all-cats, .all-cats .all-cats-trigger, .all-cats .link",
                            val: "background:none"
                        }]
                    },
					tips: "删除数据留空则无颜色"
                },
				 cate_bg_img: {
                    label: "默认-背景图片",
                    type: "url",
                    data: {
                        name: ".all-cats .all-cats-trigger",
                        ele: "background-image",
                        extra: [{
                            name: ".all-cats .link",
                            val: "background-image:none;"
                        },
                        {
                            name: ".all-cats, .all-cats .all-cats-trigger, .all-cats .link",
                            val: "background:none"
                        }],
                        del_id: "cate_bg_color"
                    },
                    placeholder: "不需背景图留空",
                    tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"
                },
              
               cate_color_hover: {
                    label: "经过-字体颜色",
                    type: "color",
                    data: {
                        name: ".all-cats-hover .link .title",
                        ele: "color"
                    }
                },
               
				cate_bg_color_hover: {
                    label: "经过-背景颜色",
                    type: "color",
                    data: {
                        name: ".all-cats-hover .all-cats-trigger, .all-cats-hover .link",
                        ele: "background-color",
                        extra: [{
                            name: ".all-cats-hover .all-cats-trigger, .all-cats-hover .link",
                            val: "background-image:none;"
                        }]
                    },
					tips: "删除数据留空则无颜色"
                },
				
                
				 cate_bg_img_hover: {
                    label: "经过-背景图片",
                    type: "url",
                    data: {
                        name: ".all-cats-hover",
                        ele: "background-image",
                        extra: [{
                            name: ".all-cats-hover ,.all-cats-hover .all-cats-trigger, .all-cats-hover .link",
                            val: "background:none;"
                        }],
                        del_id: "cate_bg_color_hover"
                    },
                   placeholder: "不需背景图留空",
                   tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"
                },
                
               
                cate_font_size: {
                    label: "字体大小",
                    type: "select",
                    options: i(),
                    val: "",
                    unit: "px",
                    data: {
                        name: ".all-cats .link .title",
                        ele: "font-size"
                    }
                },
                cate_font_family: {
                    label: "字体选择",
                    type: "select",
                    options: j(),
                    val: "",
                    data: {
                        name: ".all-cats .link .title",
                        ele: "font-family"
                    }
                },
                cate_font_style: {
                    label: "字体样式",
                    type: "select",
                    val: "",
                    options: {
                        normal: "默认",
                        normal: "正常",
                        italic: "斜体",
                        bold: "粗体",
                        bold_italic: "粗体+斜体"
                    },
                    data: {
                        name: ".all-cats .link .title",
                        ele: "font-style"
                    }
                },
				all_cats_width: {
                    label: "所有分类宽度",
                    type: "number",
                    id: "all_cats_width",
                    unit: "px",
                    data: {
                        name: ".all-cats .all-cats-trigger,.all-cats .link",
                        ele: "width",
						 extra: [{
                            name: ".all-cats .link",
                            val: "padding:0;"
                        },
                        {
                            name: ".skin-box-bd",
                            val: "width:990;overflow:hidden;"
                        },
                        {
                            name: ".menu-list",
                            val: 'width:@989*1-(this.val*1+($(".all-cats").css("borderRightWidth").replace("px","")*1))@'
						
                        }]
                       
                    }
                },
                cate_icon: {
                    label: "下拉菜单小图标",
                    type: "url",
					unit: "",
                    data: {
                        name: ".all-cats .link .popup-icon,.all-cats-hover .link .popup-icon",
                        ele: "background-image",
                        extra: [{
                            name: ".all-cats .link .popup-icon",
                            val: "display:block;background-position:left 0px;background-repeat:no-repeat; width:14; height:14;"
                        },
                        {
                            name: ".all-cats-hover .link .popup-icon",
                            val: "background-position:right 0px"
                        }]
                    },
                    tips: "淘宝图片空间的图片链接，大小为 (14x2)x14高(参考此图片); 如不需要图标，请留空或者输入 none",
                    placeholder: "留空已隐藏"
                }, 
				
				 cate_display_style: {
                    label: "显示所有分类",
                    type: "select",
                    val: "",
                    options: {
                        "": "显示",
                        none: "隐藏"
                    },
                    data: {
                        name: ".all-cats",
                        ele: "display"
                    },
				
                }
            }
        },
		
		
		
		
		
       /* {
            title: "当前页",
            fields: {
                current_color: {
                    label: "当前页-文字颜色",
                    type: "color",
                    data: {
                        name: ".menu-list .menu-selected .link .title, .menu-list .menu-selected.menu-hover .link .title",
                        ele: "color"
                    }
                },
                current_bg_color: {
                    label: "当前页-背景颜色",
                    type: "color",
                    data: {
                        name: ".menu-list .menu-selected, .menu-list .menu-selected .link,.menu-list .menu-selected.menu-hover .link",
                        ele: "background-color",
                        extra: [{
                            name: ".menu-list .menu-selected,.menu-list .menu-selected .link .title",
                            val: "background:none;"
                        }]
                    }
                },
                current_bg_img: {
                    label: "当前页-背景图片",
                    type: "url",
                    data: {
                        name: ".menu-list .menu-selected,.menu-list .menu-selected.menu-hover,.menu-list .menu-selected .link,.menu-list .menu-selected.menu-hover .link",
                        ele: "background-image",
                        extra: [{
                            name: ".menu-list .menu-selected,.menu-list .menu-selected.menu-hover",
                            val: "background-position:left 0px;background-repeat:no-repeat;"
                        },
                        {
                            name: ".menu-list .menu-selected .link,.menu-list .menu-selected.menu-hover .link",
                            val: "background-position:right 0px;background-repeat:no-repeat; "
                        },
                        {
                            name: ".menu-list .link",
                            val: "padding:0 20px 0 9px; margin-left: 11px;"
                        },
                        {
                            name: ".menu-list .menu-selected.menu-hover .link .title",
                            val: "background:none;"
                        }]
                    },
                    placeholder: "http://",
                    tips: "粘贴淘宝图片空间的图片链接地址，不要背景图输入 none"
                }
            }
        },*/
        {
            title: "一级下拉菜单",
            span: 3,
            fields: {
				sub_nav_all_bg_color: {
                    label: "整体-背景颜色",
                    type: "color",
                    data: {
                        name: ".popup-content",
                        ele: "background-color",
                        extra: [{
                            name: ".popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",
                            val: "background:none;"
                        }]
                    },
					tips: "删除数据留空则无颜色"
                },
				sub_nav_color: {
                    label: "默认-文字颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .fst-cat-name, .menu-popup-cats .sub-cat a",
                        ele: "color"
                    }
                },
				sub_nav_bg_color: {
                    label: "默认-背景颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .fst-cat,.menu-popup-cats .sub-cat",
                        ele: "background-color"
                    },
					tips: "删除数据留空则无颜色"
                },
                sub_nav_bg_img: {
                    label: "默认-背景图片",
                    type: "url",
                    cls: "span2",                   
                    data: {
                        name: ".popup-content .cats-tree .fst-cat,.menu-popup-cats .sub-cat",
                        ele: "background-image",
                        extra: [{
                            name: ".popup-content .cats-tree .fst-cat-icon",
                            val: "background:none;"
                        }]
                    },
                   placeholder: "不需背景图留空",
                   tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
              
                sub_nav_all_bg_img: {
                    label: "整体-背景图片",
                    type: "url",
                    data: {
                        name: ".popup-content",
                        ele: "background-image",
                        extra: [{
                            name: ".popup-content",
                            val: "background-position:0px 0px"
                        },
                        {
                            name: ".popup-content .cats-tree .fst-cat",
                            val: "background:none;"
                        }]
                    },
                    placeholder: "不需背景图留空",
                    tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"
                },
				sub_nav_color_hover: {
                    label: "经过-文字颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .cat-hd-hover .fst-cat-name,.menu-popup-cats .sub-cat-hover a",
                        ele: "color"
                    }
                },
				sub_nav_bg_color_hover: {
                    label: "经过-背景颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .cat-hd-hover, .menu-popup-cats .sub-cat-hover",
                        ele: "background-color",
                        ele_extra: "background:none;",
                        extra: [{
                            name: ".popup-content .cats-tree .fst-cat-hd:hover,.popup-content .cats-tree .cat-hd-hover .fst-cat-name,.popup-content .cats-tree .cat-hd-hover .fst-cat-hd",
                            val: "background:none;"
                        }]
                    },
					tips: "删除数据留空则无颜色"
                },
                
				sub_nav_bg_img_hover: {
                    label: "经过-背景图片",
                    type: "url",                   
                    data: {
                        name: ".popup-content .cats-tree .cat-hd-hover, .menu-popup-cats .sub-cat-hover",
                        ele: "background-image",
                        ele_extra: "",
                        extra: [{
                            name: ".popup-content .cats-tree .has-children, .popup-content .cats-tree .fst-cat-hd:hover, .popup-content .cats-tree .fst-cat-hd:hover",
                            val: "background:none;"
                        }]
                    },
                    placeholder: "不需背景图留空",
                    tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
				
				 
               
                sub_nav_line_height: {
                    label: "每行高度",
                    type: "number",
                    cls: "input-mini",
                    id: "sub-nav-line-height",
                    data: {
                        name: ".skin-box-bd .popup-content .cats-tree .fst-cat, .skin-box-bd .popup-content .cats-tree .fst-cat, .popup-content .cats-tree .fst-cat-hd, .popup-content .cats-tree .fst-cat-hd, .popup-content .cats-tree .fst-cat-name, .popup-content .cats-tree .fst-cat-name, .menu-popup-cats .sub-cat, .menu-popup-cats .sub-cat, .menu-popup-cats .sub-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",
                        ele: "height,line-height,height,line-height,height,line-height,height,line-height,height,line-height",
                        extra: [{
                            name: ".cats-tree .fst-cat-hd .fst-cat-icon",
                            val: 'margin-top:@(this.val-$(".cats-tree .fst-cat-hd .fst-cat-icon").height())/2@px',
							
                        }]
                    },
                    tips: "请输入20~50间的数字",
					
                },
                sub_nav_font_size: {
                    label: "字体大小",
                    type: "select",
                    options: i(),
                    val: "",
                    unit: "px",
                    data: {
                        name: ".cats-tree .fst-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",
                        ele: "font-size"
                    }
                },
                sub_nav_font_family: {
                    label: "字体选择",
                    type: "select",
                    options: j(),
                    val: "",
                    data: {
                        name: ".cats-tree .fst-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",
                        ele: "font-family"
                    }
                },
                sub_nav_font_style: {
                    label: "字体样式",
                    type: "select",
                    val: "",
                    options: {
                        normal: "默认",
                        normal: "正常",
                        italic: "斜体",
                        bold: "粗体",
                        bold_italic: "粗体+斜体"
                    },
                    data: {
                        name: ".cats-tree .fst-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",
                        ele: "font-style"
                    }
                },
               
				 sub_nav_line_style: {
                    label: "分隔线样式",
                    type: "select",
                    options: {
                        "": "无分隔线",
                        solid: "实线",
                        dotted: "虚线"
                    },
                    data: {
                        name: ".skin-box-bd .popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",
                        ele: "border-bottom-style"
                    },
                    tips: "选无分隔线隐藏"
                },
                sub_nav_line_width: {
                    label: "分隔线大小",
                    type: "number",
                    data: {
                        name: ".skin-box-bd .popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",
                        ele: "border-bottom-width"
                    },
                    tips: "请输入1~5的数字; 需设置分隔线样式才生效"
                },
               
                sub_nav_line_color: {
                    label: "分隔线颜色",
                    type: "color",
                    data: {
                        name: ".skin-box-bd .popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",
                        ele: "border-bottom-color"
                    },
                    tips: "需设置分隔线大小、样式才生效"
                },
				 sub_nav_border_color: {
                    label: "边框颜色",
                    type: "color",
                    data: {
                        name: " .popup-content",
                        ele: "border-color",
                        extra: [{
                            name: ".popup-content",
                            val: "border-width:1;border-style:solid;border-top:none;"
                        }]
                    }
					,placeholder: "不需边框留空",
                    tips: "不需边框留空"
                }
            }
        },
        {
            title: "二级下拉菜单",
            span: 3,
            fields: {
				sec_nav_all_bg_color: {
                    label: "整体-背景颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .snd-pop-inner",
                        ele: "background-color",
                        extra: [{
                            name: ".popup-content .cats-tree .snd-pop-inner",
                            val: "background:none;"
                        }]
                    },
					tips: "删除数据留空则无颜色" 
                },
				
                sec_nav_color: {
                    label: "默认-文字颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .snd-cat-name",
                        ele: "color"
                    }
                },
                sec_nav_bg_color: {
                    label: "默认-背景颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .snd-pop-inner .snd-cat",
                        ele: "background-color"
                    },
					tips: "删除数据留空则无颜色" 
                },
                sec_nav_bg_img: {
                    label: "默认-背景图片",
                    type: "url",
                    data: {
                        name: ".popup-content .cats-tree .snd-pop-inner .snd-cat",
                        ele: "background-image",
                        extra: [{
                            name: ".popup-content .cats-tree .snd-pop-inner .snd-cat .snd-cat-icon",
                            val: "background:none"
                        }]
                    },
                   placeholder: "不需背景图留空",
                   tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
                 sec_nav_all_bg_img: {
                    label: "整体-背景图片",
                    type: "url",
                    data: {
                        name: ".popup-content .cats-tree .snd-pop-inner",
                        ele: "background-image",
                        extra: [{
                            name: ".popup-content .cats-tree .snd-pop-inner",
                            val: "background-position:0px 0px"
                        }]
                    },
                   placeholder: "不需背景图留空",
                   tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
                sec_nav_color_hover: {
                    label: "经过-文字颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree a.snd-cat-name:hover,.popup-content .cats-tree .snd-pop-inner .snd-cat-hd-hover a",
                        ele: "color"
                    }
                },
					
                sec_nav_bg_color_hover: {
                    label: "经过-背景颜色",
                    type: "color",
                    data: {
                        name: ".popup-content .cats-tree .snd-pop-inner .snd-cat-hd-hover",
                         ele: "background-color",
						 ele_extra: "background:none;",
						   extra: [{
                            name: ".popup-content .cats-tree .snd-cat-icon",
                            val: "background:none;"
                        }]
                    },
					tips: "删除数据留空则无颜色" 
                },
                sec_nav_bg_img_hover: {
                    label: "经过-背景图片",
                    type: "url",
                    data: {
                        name: ".popup-content .cats-tree .snd-pop-inner .snd-cat-hd-hover",
                        ele: "background-image",
                        extra: [{
                            name: ".popup-content .cats-tree .snd-cat-icon",
                            val: "background:none"
                        }]
                    },
                   placeholder: "不需背景图留空",
                   tips: "淘宝图片空间的图片链接，不要背景图留空或输入none"

                },
                
                sec_nav_line_height: {
                    label: "每行高度",
                    type: "number",
                    data: {
                        name: ".snd-pop-inner .fst-cat-bd .snd-cat, .snd-pop-inner .fst-cat-bd .snd-cat, .snd-pop-inner .fst-cat-bd .snd-cat-hd, .snd-pop-inner .fst-cat-bd .snd-cat-hd, .snd-pop-inner .fst-cat-bd .snd-cat-name, .snd-pop-inner .fst-cat-bd .snd-cat-name",
                        ele: "height,line-height,height,line-height,height,line-height",
                        extra: [{
                            name: ".cats-tree .snd-cat-hd .snd-cat-icon",
                            val: 'margin-top:@(this.val-$(".cats-tree .snd-cat-hd .snd-cat-icon").height())/2@px'
                        }]
                    },
                    tips: "请输入20~50间的数字"
                },
                sec_nav_font_size: {
                    label: "字体大小",
                    type: "select",
                    options: i(),
                    val: "",
                    unit: "px",
                    data: {
                        name: ".cats-tree .snd-cat .snd-cat-name",
                        ele: "font-size"
                    }
                },
                sec_nav_font_family: {
                    label: "字体选择",
                    type: "select",
                    options: j(),
                    val: "",
                    data: {
                        name: ".cats-tree .snd-cat .snd-cat-name",
                        ele: "font-family"
                    }
                },
                sec_nav_font_style: {
                    label: "字体样式",
                    type: "select",
                    val: "",
                    options: {
                        normal: "默认",
                        normal: "正常",
                        italic: "斜体",
                        bold: "粗体",
                        bold_italic: "粗体+斜体"
                    },
                    data: {
                        name: ".cats-tree .snd-cat .snd-cat-name",
                        ele: "font-style"
                    }
                },
			
                 sec_nav_line_style: {
                    label: "分隔线样式",
                    type: "select",
                    options: {
                        "": "无分隔线",
                        solid: "实线",
                        dotted: "虚线"
                    },
                    data: {
                        name: ".skin-box-bd .popup-content .cats-tree .fst-cat .snd-cat",
                        ele: "border-bottom-style"
                    },                  
                    tips:"选无分隔线隐藏"
                },
                sec_nav_line_width: {
                    label: "分隔线大小",
                    type: "number",
                    data: {
                        name: ".skin-box-bd .popup-content .cats-tree .fst-cat .snd-cat",
                        ele: "border-bottom-width"
                    },
                    tips: "请输入1~5的数字; 需设置分隔线样式才生效"
                },
               
                sec_nav_line_color: {
                    label: "分隔线颜色",
                    type: "color",
                    data: {
                        name: ".skin-box-bd .popup-content .cats-tree .fst-cat .snd-cat",
                        ele: "border-bottom-color"
                    },
                    tips: "需设置分隔线大小、样式才生效"
                },
				sec_nav_border_color: {
                    label: "边框颜色",
                    type: "color",
                    data: {
                        name: " .popup-content .snd-pop",
                        ele: "border-color",
                        extra: [{
                            name: ".popup-content .snd-pop",
                            val: "border-width:1;border-style:solid;border-top:none;"
                        }]
                    }
                },
                sec_nav_all_height: {
                    label: "二级类目高度",
                    type: "select",
                    val: "auto",
                    options: {
						auto: "自动高度",
                        "": "固定高度"
                        
                    },
                    data: {
                        name: ".popup-content .cats-tree .snd-pop-inner",
                        ele: "height"
                    }
                },
					    nav_icon: {
                    label: "下拉菜单小图标",
                    type: "url",
					unit: "",
                    data: {
                        name: ".menu-list .link .popup-icon,.menu-list .menu-hover .link .popup-icon",
                        ele: "background-image",
                        extra: [{
                            name: ".menu-list .link .popup-icon",
                            val: "display:block;background-position:left 0px; background-repeat:no-repeat;width:14; height:14;"
                        },
                        {
                            name: ".menu-list .menu-hover .link .popup-icon",
                            val: "background-position:right 0px"
                        }]
                    },
                    tips: "淘宝图片空间的图片链接，大小为 (14x2)x14高(参考此图片); 如不需要图标，请留空或者输入 none",
                    placeholder: "留空已隐藏"
                }
            }
        },
        /*{
            title: "固定背景",
            tips: "高级用户使用",
            span: 12,
            fields: {
                _fixed_bg: {
                    label: "页面固定背景",
                    type: "url",
                    placeholder: "http://",
                    tips: "粘贴淘宝图片空间的图片链接地址，尺寸建议1920x1200。后台的页面背景需要去取消。",
                    cls: "long",
                    data: {
                        special: 4,
                        name: "_",
                        ele: ""
                    }
                },
                _extend_code: {
                    label: "兼容代码",
                    type: "textarea",
                    cls: "long",
                    style: "height:60px",
                    data: {
                        special: 2,
                        name: "_",
                        ele: ""
                    },
                    placeholder: ".skin-box .skin-box-bd{ }",
                    tips: "兼容CSS，优先级最高，会覆盖其它设置"
                }
            }
        },*/
        {
            title: "环境设置",
            tips: "模拟店招、页头之类的环境设置",
            span: 6,
            fields: {
                _dz_height: {
                    id: "dz_height",
                    label: "店招高度",
                    type: "number",
                    val: "120",
                    unit: "px",
                    data: {
                        special: 3,
                        name: "_",
                        ele: ""
                    },
                    tips: "模拟店招高度，请输入1~130间的整数"
                },
                _show_dz_mock: {
                    label: "显示店招占位块",
                    type: "select",
                    val: "1",
                    options: {
                        y: "是",
                        n: "否"
                    },
                    tips: "是否显示“这里是店招”字样",
                    data: {
                        special: 3,
                        name: "_",
                        ele: ""
                    }
                },
                _hd_bg_color: {
                    label: "页头背景色",
                    type: "color",
                    data: {
                        special: 3,
                        name: "_",
                        ele: ""
                    }
                },
                _hd_bg: {
                    label: "页头背景图",
                    type: "url",
                    placeholder: "http://",
                    tips: "模拟页头背景色",
                    data: {
                        special: 3,
                        name: "_",
                        ele: ""
                    }
                },
                _content_bg_color: {
                    label: "页面背景色",
                    type: "color",
                    data: {
                        special: 3,
                        name: "_",
                        ele: ""
                    }
                },
                _content_bg: {
                    label: "页面背景图",
                    type: "url",
                    placeholder: "http://",
                    tips: "模拟页面背景图",
                    data: {
                        special: 3,
                        name: "_",
                        ele: ""
                    }
                }
            }
        }]
    };
    var k = [{
        name: ".skin-box-bd, .menu-list .link, .all-cats .link, .popup-content",
        val: "border:none"
    }];
    var a = function () {
        var t = "";
        t = ".all-cats{max-width:none;}.skin-box-bd .menu-list .menu {border:none;}.all-cats,.all-cats-hover,.all-cats .link .popup-icon,.all-cats-hover .link .popup-icon,.menu-list, .menu-list .link,.menu-list .link .popup-icon,.menu-list .menu,.menu-list .menu .link,.menu-list .menu-selected,.menu-list .menu-hover,.menu-list .menu-selected .link,.menu-list .menu-hover .link,.menu-list .menu-selected .link .popup-icon,.menu-list .menu-hover .link .popup-icon{background:none;}";
        t += ".popup-content .cats-tree .snd-pop-inner, .ks-contentbox,.popup-content,.popup-content .cats-tree, .menu-popup-cats{padding:0px;}.popup-content .cats-tree,.menu-popup-cats, .ks-contentbox,.all-cats .link{background:none;} .ks-contentbox{padding-top:0;} .all-cats .link .popup-icon, .all-cats-hover .link .popup-icon{top:0px;} .menu-list .link .title,  .menu-list .menu-selected .link .title,.menu-list .menu{width:auto;} .popup-content .cats-tree{margin:0px;}";
        t += ".menu-list .link .popup-icon,.all-cats .link .popup-icon{display:none;}.skin-box-bd .popup-content .cats-tree .fst-cat{border-top:0 none;}.popup-content .cats-tree .fst-cat,.popup-content .cats-tree .snd-pop-inner .snd-cat{vertical-align: bottom;}.menu-list .link .popup-icon,.all-cats .link .popup-icon{font-size:0;}";
        return t
    };
    var i = function () {
        return {
            "": "默认",
            "11": 11,
            "12": 12,
            "13": 13,
            "14": 14,
            "16": 16,
            "18": 18,
            "20": 20,
            "22": 22,
            "24": 24,
            "26": 26,
            "28": 28
        }
    };
    var j = function () {
        return {
            "": "默认",
            ms_yahei_simhei: "微软雅黑,黑体",
            ms_yahei: "微软雅黑",
            simhei: "黑体",
            simsun: "宋体",
            lisu: "隶书",
            kaiti_gb2312: "楷体",
            Georgia: "Georgia",
            "Times New Roman": "Times New Roman",
            Impact: "Impact",
            "Courier New": "Courier New",
            Arial: "Arial",
            Verdana: "Verdana",
            Tahoma: "Tahoma",
            "Microsoft Sans Serif": "Microsoft Sans Serif"
        }
    };
    var e = function () {
        var r = $.trim($("#log_data").val());
        if ("" != r) {
            try {
                r = r.replace(/\n/g, "");
                n = $.parseJSON(r)
            } catch (s) {
                console.log(s)
            }
        }
    };
    var p = function () {
        b = $("#toolbar");
        var t = q();
        e();
        var u, A;
        var s = "";
        var y = "";
        var x = 0;
        var z = 0;
        var r;
        if (n.__dz_bg != undefined) {
            n._hd_bg = n.__dz_bg
        }
        $.each(t,
        function (C, E) {
            A = E.span ? E.span : 4;
            u = "";
            var B = 1;
            $.each(E.fields,
            function (F, G) {
                r = false;
                if (G.show_at != undefined && 1 == G.show_at) {
                    r = true
                }
                if (G.td == undefined && (G.data == undefined || $.trim(G.data.name) == "")) {
                    r = true
                }
                if (G.role != undefined) {
                    G.type = "hidden"
                }
                if (!r) {
                    if (G.td && G.td == true) {
                        u += "<td ></td>"
                    } else {
                        G.cls = (G.cls == undefined) ? "ptdata" : G.cls += " ptdata";
                        if (G.data == undefined) {
                            G.data = {}
                        }
                        G.data._id = F;
                        if (n[F] != undefined) {
                            G.val = n[F]
                        }
                        u += "<td ";
                        if (G.type == "hidden") {
                            u += ' style="display:none"'
                        }
                        u += "><label>" + G.label + "</label>" + d(G);
                        if (G.unit) {
                            u += '<span class="unit">' + G.unit + "</span>"
                        }
                        if (G.help) {
                            G.help = G.help.replace(/@sdk_id@/g, w);
                            u += '<span class="help">' + G.help + "</span>"
                        }
                        u += "</td>"
                    }
                    if (B % (12 / A) == 0) {
                        u += "</tr><tr class='tr"+B+"'>"
                    }
                    B++
                }
            });
            if (u != "") {
                x++;
                z++;
                var D = "tabcont-" + z;
                s += "<li" + (1 == x ? ' class="active"' : "") + '><a href="#' + D + '" data-toggle="tab" id="a-' + D + '"';
                if (E.tips) {
                    s += ' title="' + E.tips + '"'
                }
                s += ">" + E.title + "</a></li>";
                y += '<div class="tab-pane' + (1 == x ? " active" : "") + '" id="' + D + '"><table width="100%"><tr class="tr0">' + u + "</tr></table></div>"
            }
        });
        if ("" != y && "" != s) {
            s = '<ul class="nav nav-tabs">' + s + "</ul>";
            y = '<div class="tab-content">' + y + "</div>"
        }
        $(".content", b).html("" + s + y)
    };
    var d = function (s) {
        var r = "";
        switch (s.type) {
            case "color":
                s.cls = (s.cls == undefined) ? "ptdata_color" : s.cls += " ptdata_color";
                r = g(s);
                break;
            case "text":
                s.cls = (s.cls == undefined) ? "bs-input" : s.cls += " bs-input";
                r = g(s);
                break;
            case "number":
            case "url":
            case "emall":
            case "password":
            case "hidden":
                r = g(s);
                break;
            case "select":
                r = c(s);
                break;
            case "textarea":
                r = h(s);
                break;
            default:
                r = "unknown form type " + s.type
        }
        return r
    };
    var g = function (s) {
        var r = '<input type="' + (s.type != "color" ? s.type : "") + '"';
        r += f(s);
        if (s.val != undefined && "__nil__" != s.val) {
            r += ' value="' + s.val + '"'
        }
        r += ">";
        return r
    };
    var h = function (s) {
        var r = "<textarea" + f(s) + ">";
        if (s.val != undefined && "__nil__" != s.val) {
            r += s.val
        }
        r += "</textarea>";
        return r
    };
    var c = function (t) {
        var r = "";
        r += '<select name="' + t.name + '"';
        r += f(t);
        r += ">";
        for (var s in t.options) {
            r += '<option value="' + s + '"';
            if (s == t.val) {
                r += ' selected="selected"'
            }
            r += ">" + t.options[s] + "</option>"
        }
        r += "</select>";
        return r
    };
    var f = function (s) {
        var r = "";
        if (s.name != undefined) {
            r += ' name="' + s.name + '"'
        }
        if (s.id != undefined) {
            r += ' id="' + s.id + '"'
        }
        if (s.cls != undefined) {
            r += ' class="' + s.cls + '"'
        }
        if (s.style != undefined) {
            r += ' style="' + s.style + '"'
        }
        if (s.placeholder != undefined) {
            r += ' placeholder="' + s.placeholder + '"'
        }
        if (s.tips != undefined) {
            r += ' data-toggle="tooltip" data-placement="top" title data-original-title="' + s.tips + '"'
        }
        r += ' data-id="' + s.data._id + '"';
        return r
    };
    return {
        init: p,
        get_config: q,
        none_sdk_id_css: k,
        extend_code: a
    }
})();
REE.NavCss.Body = (function () {
    var k = null;
    var l = {};
    var m = {};
    var n = null;
    var o = 0;
    var p = [];
    var q = "";
    var r = function () {
        k = $("#naveditor");
        o = parseInt($("#demo_id").val());
        y();
        s();
        t();
        P();
        O();
        x();
        w();
        Q();
        R();
        REE.Com.bindToolTip();
        z();
        A();
        S()
    };
    var s = function () {
        var e = REE.NavCss.Tools.get_config();
        $.each(e,
        function (c, d) {
            $.each(d.fields,
            function (a, b) {
                p[a] = b.data
            })
        });
        REE.NavCss.Tools.init()
    };
    var t = function () {
        $(".ptdata", $("#toolbar")).change(function () {
            B($(this));
            C();
            if ($(this).attr("id")) {
                var a = $(this).attr("id");
                var b = $(this).val();
                if ("sub-nav-line-height" == a) {
                    A(b)
                } else {
                    if ("height" == a) {
                        z()
                    }
                }
            }
        })
    };
    var u = function (a, b) {
        switch (a) {
            case "_dz_height":
                if ("" == b) {
                    var c = $(".skin-box-bd", k).height();
                    b = 150 - c
                }
                $("#custom-banner").css("height", M(b, "height"));
                break;
            case "_show_dz_mock":
                var d = $(".title", "#custom-banner");
                "y" == b ? d.show() : d.hide();
                break;
            case "_hd_bg_color":
                var e = {};
                b = M(b, "background-color");
                e["background-image"] = "none";
                e["background-color"] = b;
                $("#hd").css(e);
                break;
            case "_hd_bg":
                var e = {};
                b = M(b, "background-image");
                if (b == "" && l._hd_bg_color && l._hd_bg_color != "") {
                    b = "none"
                }
                e = {
                    "background-image": b
                };
                $("#hd").css(e);
                break;
            case "_content_bg":
                e = {
                    "background-image": M(b, "background-image")
                };
                $("#csseditor").css(e);
                break;
            case "_content_bg_color":
                var e = {};
                b = M(b, "background-color");
                e["background-image"] = "none";
                e["background-color"] = b;
                $("#content").css(e);
                break
        }
    };
    var w = function () {
        var a = $(".skin-box-bd", k).height();
        $("#popup-content").css("margin-top", a);
        if (!$("#dz_height").val()) {
            $(".custom-banner", k).css("height", 150 - a)
        }
        $("#snd-pop").css("left", $(".popup-inner", k).width())
    };
    var x = function () {
        $(".ptdata", $("#toolbar")).each(function () {
            B($(this))
        });
        C()
    };
    var y = function () {
        var a = $("head");
        a.append('<style type="text/css"></style>');
        n = $("style", a)
    };
    var z = function () {
        var a = $("#height").val();
        var b = a ? parseInt(a) : 0;
        if (b < 0) {
            return
        }
        if (b == 0) {
            b = $(".skin-box-bd", k).height()
        }
        $("#popup-content").css("margin-top", b + "px");
        if (!$("#dz_height").val()) {
            $(".custom-banner", k).css("height", (150 - b) + "px")
        }
    };
    var A = function (a) {
        if (!a) {
            a = $("#sub-nav-line-height").val()
        }
        if (a == "") {
            a = 28
        }
        $("#snd-pop").css("top", a + "px")
    };
    var B = function (a, b) {
        var c = a.attr("data-id");
        if (b == undefined) {
            b = a.val()
        }
        l[c] = b
    };
    var C = function () {
        var a = "#page #content .tshop-pbsm-shop-nav-ch ",
        style = E(a);
        if (n.html() != style) {
            n.html(style)
        }
    };
    var D = function (g) {
        g = g || "";
        var h = "";
        $.each(l,
        function (a, b) {
            b = $.trim(b);
            if (p[a] && p[a].special != undefined && 0 < p[a].special) {
                if (b != "" && 1 == p[a].special) {
                    var c = p[a].name;
                    var d = c.split(",");
                    var e = "";
                    for (i = 0; i < d.length; i++) {
                        e += ", " + g + $.trim(d[i])
                    }
                    if (e != "") {
                        h += e.substr(2);
                        h += "{" + N(p[a].ele, M(b, p[a].ele)) + "}"
                    }
                } else {
                    if (b != "" && 2 == p[a].special) {
                        q = b;
                        h += ""
                    } else {
                        if (3 == p[a].special) {
                            u(a, b);
                            h += ""
                        } else {
                            if (4 == p[a].special) {
                                var f = "";
                                b = M(b, "background-image");
                                if (b == "") {
                                    h += ""
                                } else {
                                    h += "body {background: " + b + " no-repeat center top fixed;}";
                                    if ("none" != b) {
                                        f = 2000
                                    }
                                }
                                $("body").css({
                                    height: f
                                })
                            }
                        }
                    }
                }
            }
        });
        return h
    };
    var E = function (a) {
        q = "";
        var b = F(a);
        b += D(a);
        b += I(a);
        b += G(a);
        return b
    };
    var F = function (a) {
        var b = REE.NavCss.Tools.extend_code();
        return H($.trim(b), a)
    };
    var G = function (a) {
        return H($.trim(q), a)
    };
    var H = function (a, b) {
        if ("" == a) {
            return ""
        }
        b = b || "";
        a = a.replace(/#page(\s+)#content(\s+)\.tshop-pbsm-shop-nav-ch(\s+)/g, "");
        if ("" != b) {
            a = a.replace(/((\.([a-zA-Z0-9\-_]+)(\s*))+)([,\{])/g, b + "$1$5")
        }
        return a
    };
    var I = function (d) {
        d = d || "";
        var e = "";
        var f = "";
        var g;
        m = {};
        L(REE.NavCss.Tools.none_sdk_id_css, 1);
        J();
        $.each(m,
        function (c, v) {
            f = "";
            $.each(v,
            function (a, b) {
                g = true;
                if (a == "background-repeat" || a == "background-position") {
                    if (v["background-image"] == undefined || "" == v["background-image"]) {
                        g = false
                    }
                }
                b.val = M(b.val, a);
                if (g && "" != b.val && b.show) {
                    if (b.ele_extra != undefined && "" != b.ele_extra) {
                        f += b.ele_extra
                    }
                    f += N(a, b.val)
                }
            });
            if ("" != d) {
                e += "\n"
            }
            if (f != "") {
                e += d + c + " {" + f + "}"
            }
        });
        return e
    };
    var J = function () {
        var c, should_show;
        $.each(l,
        function (a, b) {
            c = p[a];
            if (c && c.extra != undefined && c.extra != "") {
                L(c.extra, b)
            }
        });
        var d = Array();
        $.each(l,
        function (a, b) {
            c = p[a];
            if (c && c.del_id != undefined && b != "") {
                d.push(c.del_id)
            }
        });
        $.each(l,
        function (a, b) {
            should_show = 1;
            if ($.inArray(a, d) > -1) {
                should_show = 0
            }
            K(p[a], b, should_show)
        })
    };
    var K = function (a, b, c) {
        if (a == undefined) {
            return
        }
        if (a.special != undefined && 0 < a.special) {
            return
        }
        var d, element_names, class_names_len, element_names_len, _class_name, _element_name, _ele_extra;
        d = a.name.split(",");
        element_names = a.ele.split(",");
        _ele_extra = a.ele_extra ? $.trim(a.ele_extra) : "";
        class_names_len = d.length;
        element_names_len = element_names.length;
        var e = 0;
        for (i = 0; i < class_names_len; i++) {
            _class_name = $.trim(d[i]);
            if ("" == _class_name) {
                continue
            }
            _element_name = element_names[i] ? element_names[i] : element_names[element_names_len - 1];
            if (m[_class_name] == undefined) {
                m[_class_name] = {}
            }
            m[_class_name][$.trim(_element_name)] = {
                val: b,
                show: c,
                ele_extra: _ele_extra
            };
            e = i
        }
        if (element_names[e + 1] != undefined) {
            _class_name = d[e];
            for (j = e + 1; j < element_names_len; j++) {
                if (m[_class_name] == undefined) {
                    m[_class_name] = {}
                }
                m[_class_name][$.trim(element_names[j])] = {
                    val: b,
                    show: c,
                    ele_extra: _ele_extra
                }
            }
        }
    };
    var L = function (c, d) {
        var e = (d == undefined || d == "") ? 0 : 1;
        var f, val, ids_len, val_len, _id, _val, _tmp_val;
        $.each(c,
        function (a, b) {
            f = b.name.split(",");
            val = b.val.split(";");
            ids_len = f.length;
            val_len = val.length;
            for (i = 0; i < ids_len; i++) {
                _id = $.trim(f[i]);
                if ("" == _id) {
                    continue
                }
                if (m[_id] == undefined) {
                    m[_id] = {}
                }
                for (j = 0; j < val_len; j++) {
                    _val = $.trim(val[j]);
                    if ("" == _val) {
                        continue
                    }
                    _val = _val.split(":");
                    if (m[_id][$.trim(_val[0])] != undefined && m[_id][$.trim(_val[0])]["show"] == 1) {
                        continue
                    }
                    _val[1] = $.trim(_val[1]);
                    _tmp_val = _val[1].match(/@(.*)@/);
                    if (_tmp_val) {
                        _tmp_val = _tmp_val[1];
                        _tmp_val = _tmp_val.replace(/this\.val/g, d);
                        _tmp_val = eval(_tmp_val);
                        _tmp_val = _val[1].replace(/@.*@/, _tmp_val)
                    } else {
                        _tmp_val = _val[1]
                    }
                    m[_id][$.trim(_val[0])] = {
                        val: _tmp_val,
                        show: e
                    }
                }
            }
        })
    };
    var M = function (a, b) {
        if (a == "__nil__") {
            return ""
        }
        if (b == "background" || b == "background-image") {
            if ("" == a) {
                a = ""
            } else {
                if ("none" != a) {
                    a = "url(" + a + ")"
                }
            }
        } else {
            if (a != "") {
                if (b.match("color")) {
                    a = "#" + a
                } else {
                    if (b.match("width") || b.match("height") || b == "font-size") {
                        if (a != "auto") {
                            a += "px"
                        }
                    } else {
                        if (b == "font-family") {
                            var c = {
                                ms_yahei_simhei: "微软雅黑,黑体",
                                ms_yahei: "微软雅黑",
                                simhei: "黑体",
                                simsun: "宋体",
                                lisu: "隶书",
                                kaiti_gb2312: "楷体_GB2312"
                            };
                            if (c[a] != undefined) {
                                a = c[a]
                            }
                        }
                    }
                }
            }
        }
        return a
    };
    var N = function (a, b) {
        var c = a + ":" + b + "; ";
        if ("font-style" == a) {
            if ("normal" == b) {
                c = "font-weight:normal; font-style:normal"
            } else {
                if ("bold" == b) {
                    c = "font-weight:bold; font-style:normal"
                } else {
                    if ("bold_italic" == b) {
                        c = "font-weight:bold; font-style:italic"
                    }
                }
            }
        }
        return c
    };
    var O = function () {
        $("#naveditor").on("mouseenter", ".menu-list .menu",
        function () {
            $(this).addClass("menu-hover")
        }).on("mouseleave", ".menu-list .menu",
        function () {
            $(this).removeClass("menu-hover")
        }).on("mouseenter", ".fst-cat",
        function () {
            $(this).addClass("cat-hd-hover")
        }).on("mouseleave", ".fst-cat",
        function () {
            $(this).removeClass("cat-hd-hover")
        }).on("mouseenter", ".all-cats",
        function () {
            $(this).addClass("all-cats-hover")
        }).on("mouseleave", ".all-cats",
        function () {
            $(this).removeClass("all-cats-hover")
        }).on("mouseenter", ".snd-cat-hd",
        function () {
            $(this).addClass("snd-cat-hd-hover")
        }).on("mouseleave", ".snd-cat-hd",
        function () {
            $(this).removeClass("snd-cat-hd-hover")
        }).on("mouseenter", ".sub-cat",
        function () {
            $(this).addClass("sub-cat-hover")
        }).on("mouseleave", ".sub-cat",
        function () {
            $(this).removeClass("sub-cat-hover")
        })
    };
    var P = function () {
        $(".ptdata_color", $("#toolbar")).ColorPicker({
            onSubmit: function (a, b, c, d) {
                $(d).val(b);
                $(d).ColorPickerHide();
                B($(d), b);
                C()
            },
            onBeforeShow: function () {
                $(this).ColorPickerSetColor(this.value)
            },
            onShow: function (a) {
                $(a).fadeIn(500);
                return false
            },
            onHide: function (a) {
                $(a).fadeOut(500);
                return false
            }
        }).bind('keyup',
        function () {
            $(this).ColorPickerSetColor(this.value)
        })
    };
    var Q = function () {
        $(".copy-css-code-btn").click(function () {
            var a = $(this).attr("data-type") == "css" ? "@name " : "",
            code = E(a);
            var b = "_css_code_dialog";
            if ("" != code) {
                code = code.replace(/[\r\n]/g, "")
            }
            var c = '<textarea id="' + b + '_copy" style="width:100%;height:160px;" class="copyareadiv">' + code + "</textarea>";
			$(".copyareaval").val(code)
            REE.Com.copyModal(b, "将下面代码粘贴到导航模块显示设置内", c)
        })
    };
    var R = function () {
        $(".copy-json-code-btn").click(function () {
            var a = l,
            id = "_json_code_dialog";
            var b = [];
            for (var i in a) {
                b.push($.trim('"' + i + '":"' + a[i] + '"').replace(/[\r\n]/g, ""))
            }
            var c = '<textarea id="' + id + '_copy" style="width:100%;height:160px;" class="copyareadiv">{' + b + "}</textarea>";
            REE.Com.copyModal(id, "", c)
        })
    };
    var S = function () {
        var a = $("#close-tools"),
        open = $("#open-tools");
        a.click(function () {
            $("#ft").animate({
                bottom: "-260px"
            },
            "slow");
            open.show("slow");
            $(".popup-inner").hide();
            $(".popup-content").hide()
        });
        open.click(function () {
            $("#ft").animate({
                bottom: "0px"
            },
            "slow");
            $(this).hide("slow");
            $(".popup-inner").show();
            $(".popup-content").show()
        })
    };
    return {
        init: r
    }
})();
$(document).ready(function () {
    REE.Com.backwardIE();
    REE.NavCss.Body.init()
});
