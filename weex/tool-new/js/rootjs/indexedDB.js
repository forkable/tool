define(["jquery"],function(e){let n={openDB:function(e){let n,t=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB;if(t){let o=t.open("weex_dashi_DB",1);o.onsuccess=function(t){let o=(n=t.target.result).transaction("tool_md","readwrite").objectStore("tool_md");e&&e(o)},o.onerror=function(n){e&&e(-1)},o.onupgradeneeded=function(e){if(!(n=e.target.result).objectStoreNames.contains("tool_md")){let e=n.createObjectStore("tool_md",{keyPath:"name"});e.createIndex("name","name",{unique:!0}),e.createIndex("value","value",{unique:!1})}}}else e&&e(-1)},get:function(e,t){n.openDB(function(n){if(-1!=n){let o=n.get(e);o.onsuccess=function(e){t&&t(o.result)},o.onerror=function(e){t&&t(-1)}}else t&&t(-1)})},updata:function(e,t,o){n.openDB(function(n){if(-1!=n){let u=n.get(e);u.onsuccess=function(e){if(u.result){let e=n.put(t);o&&o(e)}else{let e=n.add(t);e.onsuccess=function(e){o&&o(e.target.result)},e.onerror=function(e){o&&o(-1)}}},u.onerror=function(e){o&&o(-1)}}else o&&o(-1)})}};return n});